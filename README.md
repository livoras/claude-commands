# Claude 自定义命令集合

这是一组用于 Claude Code 的自定义 slash 命令，旨在提升工作效率和沟通质量。

## 安装

将这些 `.md` 文件放置在 `~/.claude/commands/` 目录下即可全局使用。

## 命令列表

### `/ask` - 只读分析助手
询问问题并获得答案，不做任何修改。

适用场景：
- 查询项目信息
- 分析代码结构
- 了解系统状态

限制：严格禁止任何修改操作（Write、Edit 等），只能使用 Read、Grep、Bash 等只读工具。

---

### `/align` - 认知对齐助手
理解用户意图并复述确认，对齐认知。

适用场景：
- 需求不够明确时
- 避免误解用户意图
- 复杂任务开始前确认理解

功能：分析用户意图，识别核心需求和可能的歧义，用自己的话复述确认。必要时可查阅相关文件和信息。

---

### `/act` - 执行助手
严格按需求执行操作，100%符合要求。

核心原则：
- 100%符合需求，不简化方案
- 不绕过已达成的共识
- 遇到问题时保持原始意图不变
- 完成后只列出未完成项和不符合要求的地方

适用场景：根据讨论的方案开始实施，执行明确的需求。

---

### `/debug` - 调试助手
调试问题找到根本原因，不解决问题。

核心原则：
- 专注于诊断而非治疗
- 找出核心原因和事实
- 严格禁止未经验证的猜测
- 如果无法找到原因，诚实说明限制

工作流程：
1. 理解问题和收集信息
2. 形成假设并验证
3. 假设被推翻时立即形成新假设
4. 循环迭代直到找到根本原因

---

### `/doc` - 文档管理助手
在 docs 目录创建或修改文档，记录事实信息。

文件命名：
- 新建文档：`YYYYMMDD-主题.md`（时间戳开头）
- 修改文档：保持原有文件名

内容原则：
- 只记录确切的内容、事实、信息、设计
- 严格禁止讨论安全、性能、未来展望、猜想等

---

### `/plan-command` - 命令规划助手
设计 Claude Code 自定义 slash 命令结构。

功能：
- 分析用户需求
- 提供命令名称建议
- 设计 YAML frontmatter
- 提供命令内容结构
- 给出实现建议

注意：只提供设计方案，不直接创建文件。

---

### `/english` - 英语学习助手
解决用户问题的同时帮助练习英语。

适用场景：
- 用英文提问技术问题
- 用英文请求执行任务
- 练习英文表达的同时完成工作

功能：
- 双语输出：中文矫正 + 英文回答
- 分析语法、词汇、表达问题
- 提供地道的英文表达
- 支持执行各种操作

输出格式：
1. **表达优化建议**（中文）：问题分析、意图理解、关键表达、地道表达
2. **实际回答**（英文）：解决用户的具体问题

---

### `/rm-useless-try-catch` - 清理无用异常处理
删除只记录日志或重新抛出异常的无用 try-catch 块。

识别模式：
1. 仅记录日志（console.error、logger.error 等）
2. 原地重抛异常（throw error）
3. 空 catch 块

功能：安全删除无意义的 try-catch，保留有实际错误处理逻辑的代码。

---

### `/mem` - CLAUDE.md 管理助手
管理 CLAUDE.md 文件内容：新增、修改、删除信息。

支持操作：
- **新增信息**：添加新规则、配置或说明
- **修改信息**：更新现有规则或配置
- **删除信息**：移除过时或错误的内容

使用示例：
- `/mem 添加规则：禁止使用 any 类型`
- `/mem 更新测试规则，改为必须写单元测试`
- `/mem 删除关于 console.log 的限制`

---

### `/bg` - 智能后台任务助手
根据需求描述智能执行后台任务。

核心功能：
1. **智能需求理解**：解析用户的自然语言需求
2. **项目上下文分析**：基于项目文件判断合适的命令
3. **后台任务执行**：使用 Bash 工具的后台模式执行

子命令操作：
- `list`：列出所有后台任务
- `kill <task_id>`：终止指定任务
- `output <task_id>`：查看任务输出

使用示例：
- `/bg 构建项目`
- `/bg 运行测试`
- `/bg list`

---

### `/codex` - Codex 咨询助手
咨询 codex 编码助手，根据项目上下文提供技术建议。

工作流程：
1. 分析问题类型，判断是否需要项目上下文
2. 按需收集相关文件或配置信息
3. 整理上下文，组织成清晰的背景描述
4. 调用 codex 获取技术建议

上下文收集原则：
- 通用技术问题：直接咨询，无需上下文
- 项目特定问题：收集相关配置文件
- 代码问题：读取相关代码文件

使用示例：
- `/codex 如何优化 React 性能？`
- `/codex 这个项目的构建配置有什么问题？`

## 使用方法

在 Claude Code 中直接输入命令：

```
/ask 这个项目的架构是什么？
/align 帮我优化这个函数
/act 按照刚才的方案实现功能
/debug 用户登录失败
/doc 记录今天的 API 设计决策
/english How can I fix this bug?
/plan-command 设计一个代码审查命令
/rm-useless-try-catch src/
/mem 添加规则：使用 TypeScript 严格模式
/bg 运行项目测试
/codex 这段代码怎么优化？
```

## 许可

MIT