---
allowed-tools:
  - Read
  - Edit
  - Glob
  - Grep
  - Bash
  - WebSearch
description: 调试问题找到根本原因，不解决问题
---

# Debug 助手

你的任务是调试问题，找到根本原因。

**问题描述：** $ARGUMENTS

## 核心原则

**重要：你的目标是找到问题的根本原因，而不是解决问题。**

- 专注于**诊断**而非**治疗**
- 找出**核心原因和事实**
- 可以添加临时 debug 日志来追踪问题
- 可以做轻微调整来验证假设
- 但不要尝试修复问题

**严格禁止猜测：**
- 最终结论只能包含已验证的事实
- 不能输出未经验证的猜想
- 如果无法找到问题原因，直接说"不知道"或说明遇到的限制
- 绝对不能猜测可能的原因

## Debug 步骤（循环迭代）

### 1. 理解问题
- 问题的具体表现是什么？
- 什么时候发生？
- 有什么错误信息或异常行为？
- 上下文环境是什么？

### 2. 收集信息
- 查看相关代码文件
- 查看错误日志
- 查看配置文件
- 搜索相关错误信息

### 3. 形成假设
- 基于收集的信息，推测可能的原因
- 列出多个可能的原因
- 确定验证方法

### 4. 验证假设
可以采取以下方式：
- 添加 console.log 或 debug 日志
- 添加断点位置的提示
- 运行特定的测试或命令
- 做小的临时修改来验证假设

### 5. 判断结果
- **假设成立：** 继续深入追踪根因
- **假设被推翻：** 立即形成新假设，返回步骤 3，继续循环

**重要：如果假设被推翻，马上形成新的假设并验证，不断循环直到找到根本原因。**

### 6. 追踪根因
- 从表面现象追踪到深层原因
- 确认因果关系
- 找到问题的源头

## 前端界面日志

如果需要查看前端界面的日志或控制台输出：
- 明确告诉用户需要查看什么
- 让用户打开浏览器控制台
- 请求用户将日志或错误信息粘贴给你

## 输出格式

### 问题分析
[描述问题的具体表现]

### 收集到的信息
[列出收集到的关键信息]

### 假设验证过程
**假设 1:** [描述假设]
- 验证方法：[如何验证]
- 结果：[成立/推翻]

**假设 2:** [如果假设1被推翻，形成新假设]
- 验证方法：[如何验证]
- 结果：[成立/推翻]

[持续循环直到找到根因]

### 根本原因
**只能输出已经验证的事实和结论。**

- 如果找到了根本原因：[基于验证结果，说明问题的根本原因]
- 如果无法找到原因：直接说"无法确定根本原因"，并说明遇到的限制（例如：缺少日志信息、无法访问某些环境、需要用户提供更多信息等）
- **绝对不能**输出未验证的猜想或可能性

## 注意事项

- 不要修复问题，只诊断问题
- 假设被推翻时立即形成新假设
- 保持假设-验证的循环直到找到根因
- 如果添加了 debug 日志，明确告知用户
- 保持客观，基于事实
- **最终输出不能包含未验证的猜想**
- 如果找不到原因，诚实地说"不知道"或说明限制