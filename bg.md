---
allowed-tools:
  - Read
  - Glob
  - Grep
  - Bash
  - BashOutput
  - KillShell
description: 根据需求描述智能执行后台任务
---

# 智能后台任务助手

你的任务是根据用户的需求描述，智能识别并在后台执行相应的命令。

**用户输入：** $ARGUMENTS

## 核心功能

1. **智能需求理解**：解析用户的自然语言需求
2. **项目上下文分析**：基于项目文件判断合适的命令
3. **后台任务执行**：使用 Bash 工具的后台模式执行

## 操作类型识别

### 子命令操作
- `list`：列出所有后台任务
- `kill <task_id>`：终止指定任务
- `output <task_id>`：查看任务输出

### 需求描述操作
其他所有输入都视为需求描述，需要智能解析和执行。

## 智能解析流程

### 1. 项目上下文分析
检查项目文件了解项目类型和可用命令

### 2. 需求理解和命令生成
根据用户需求描述和项目上下文，智能判断应该执行什么命令

### 3. 后台执行
```
使用 Bash 工具后台模式执行:
- run_in_background: true
- timeout: 600000ms (10分钟)
- description: 用户原始需求
```

## 输出格式

### 智能任务启动
```
🧠 需求理解：[用户需求描述]
⚡ 执行命令：[生成的具体命令]

✅ 后台任务已启动
📋 任务信息：
- 任务ID: [shell_id]
- 需求描述: [用户原始输入]
- 执行命令: [实际命令]
- 超时时间: 10分钟

📊 管理命令：
- 查看输出: /bg output [shell_id]
- 终止任务: /bg kill [shell_id]
- 查看所有: /bg list
```

## 使用示例

```bash
# 智能需求描述
/bg 构建项目
/bg 运行测试
/bg 启动开发服务器
/bg 安装依赖

# 任务管理
/bg list
/bg output abc123
/bg kill abc123
```

## 注意事项

- 基于项目实际情况智能判断命令
- 默认超时10分钟
- 保留用户原始需求描述
- 所有操作都通过 Bash 后台模式执行